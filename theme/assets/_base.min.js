function getID(id){return jQuery(document.getElementById(id))}function showRecoverPasswordForm(){recoverForm.parent().show(),loginForm.parent().hide()}function hideRecoverPasswordForm(){recoverForm.parent().hide(),loginForm.parent().show()}!function($){var BootstrapifyDropdown=function($ele){this.$ele=$ele,this.submenus=this.$ele.find(".submenu"),this.init()};BootstrapifyDropdown.prototype.init=function(){this.hasSubMenus(1)&&this.resizeDropdown(),this.addDividers()},BootstrapifyDropdown.prototype.resizeDropdown=function(){var newDropdownWidth=this.getDropdownWidth();this.$ele.width(newDropdownWidth)},BootstrapifyDropdown.prototype.addDividers=function(){this.hasSubMenus()&&console.log(this.submenus)},BootstrapifyDropdown.prototype.hasSubMenus=function(threshold){return void 0===threshold&&(threshold=0),this.submenus.length>threshold},BootstrapifyDropdown.prototype.getDropdownWidth=function(){var totalWidth=0;return $.each(this.submenus,function(){totalWidth+=$(this).getHiddenDimensions().width}),totalWidth},$.fn.bootstrapifyDropdown=function(){return this.each(function(){$ele=$(this),$ele.data("_bootstrapifyDropdown",new BootstrapifyDropdown($ele))})},$.fn.getHiddenDimensions=function(includeMargin){var $item=this,props={position:"absolute",visibility:"hidden",display:"block"},dim={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},$hiddenParents=$item.parents().andSelf().not(":visible"),includeMargin=null==includeMargin?!1:includeMargin,oldProps=[];return $hiddenParents.each(function(){var old={};for(var name in props)old[name]=this.style[name],this.style[name]=props[name];oldProps.push(old)}),dim.width=$item.width(),dim.outerWidth=$item.outerWidth(includeMargin),dim.innerWidth=$item.innerWidth(),dim.height=$item.height(),dim.innerHeight=$item.innerHeight(),dim.outerHeight=$item.outerHeight(includeMargin),$hiddenParents.each(function(i){var old=oldProps[i];for(var name in props)this.style[name]=old[name]}),dim}}(jQuery);var preloadProductImages=function(){var $thumbs=$("[data-main-image]");$thumbs.length>0&&$thumbs.each(function(){var image=new Image;image.src=$(this).attr("data-main-image")})};$(function(){$("body").hasClass("currencies")&&($("#currency-picker-toggle a").click(function(){return $("#currency-picker-toggle").hide(),$("#currencies-picker").fadeIn(),!1}),$("#currencies-picker select").change(function(){return $("#currencies-picker").hide(),$("#currency-picker-toggle").fadeIn(),!0}).blur(function(){return $("#currencies-picker").hide(),$("#currency-picker-toggle").fadeIn(),!0})),$(".dropdown-menu").bootstrapifyDropdown(),$(".localize").tooltip(),$(".tip").popover({trigger:"click",placement:"left",html:!0})}),$(window).load(function(){preloadProductImages(),$(".carousel").on("slid.bs.carousel",function(){var imgHeight=$(this).find(".item.active img").height();$(".carousel-control").css({maxHeight:imgHeight})})}),$("[data-main-image]").click(function(event){var targetImage=$(this).attr("data-main-image"),$mainImage=getID("main");$mainImage.attr("src")!==targetImage&&$mainImage.fadeOut(400,function(){$("div.loader").fadeIn(100),$(this).attr("src",targetImage).load(function(){$("div.loader").fadeOut(100),$(this).fadeIn()})}),event.preventDefault()});var modalForm=getID("signinModal");modalForm.on("submit","form",function(e){var form=$(this),inputArray=[],valid=!0;form.find("input").each(function(){var input=$(this);input.attr("name")&&(""===input.val()&&(valid=!1,input.closest(".form-group").addClass("has-error").append('<p class="help-block">Field can\'t be blank.</p>')),inputArray.push(input.attr("name")+"="+input.val()))});var dataString=inputArray.join("&");valid&&$.ajax({type:"POST",url:$(this).attr("action"),data:dataString,success:function(data){var formAlert=$(data).find("form .alert");formAlert.length>0?form.prepend('<div class="alert alert-danger">'+formAlert.html()+"</div>"):window.location.reload()},error:function(data){console.log("Form post error:"),console.log(data)}}),e.preventDefault()});var recoverForm=getID("customer-recover-password-form"),loginForm=getID("customer-login-form");$(".hide-recover-password-form").on("click",function(e){hideRecoverPasswordForm(),e.preventDefault()}),$(".show-recover-password-form").on("click",function(e){showRecoverPasswordForm(),e.preventDefault()}),null===recoverForm&&(getID("forgotten-password-link").style.display="none"),null===loginForm&&(getID("recover-password-link").style.display="none"),hideRecoverPasswordForm(),"#recover"===window.location.hash&&showRecoverPasswordForm();