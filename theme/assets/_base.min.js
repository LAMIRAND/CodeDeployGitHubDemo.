function getID(id){return jQuery(document.getElementById(id))}function showRecoverPasswordForm(){recoverForm.parent().show(),loginForm.parent().hide()}function hideRecoverPasswordForm(){recoverForm.parent().hide(),loginForm.parent().show()}var preloadProductImages=function(){var $thumbs=$("[data-main-image]");$thumbs.length>0&&$thumbs.each(function(){var image=new Image;image.src=$(this).attr("data-main-image")})};$(function(){$("body").hasClass("currencies")&&($("#currency-picker-toggle a").click(function(){return $("#currency-picker-toggle").hide(),$("#currencies-picker").fadeIn(),!1}),$("#currencies-picker select").change(function(){return $("#currencies-picker").hide(),$("#currency-picker-toggle").fadeIn(),!0}).blur(function(){return $("#currencies-picker").hide(),$("#currency-picker-toggle").fadeIn(),!0})),$(".localize").tooltip(),$(".tip").popover({trigger:"click",placement:"left",html:!0})}),$(window).load(function(){preloadProductImages(),$(".carousel").on("slid.bs.carousel",function(){var imgHeight=$(this).find(".item.active img").height();$(".carousel-control").css({maxHeight:imgHeight})})}),$("[data-main-image]").click(function(event){var targetImage=$(this).attr("data-main-image"),$mainImage=getID("main");$mainImage.attr("src")!==targetImage&&$mainImage.fadeOut(400,function(){$("div.loader").fadeIn(100),$(this).attr("src",targetImage).load(function(){$("div.loader").fadeOut(100),$(this).fadeIn()})}),event.preventDefault()});var modalForm=getID("signinModal");modalForm.on("submit","form",function(e){var form=$(this),inputArray=[],valid=!0;form.find("input").each(function(){var input=$(this);input.attr("name")&&(""===input.val()&&(valid=!1,input.closest(".form-group").addClass("has-error").append('<p class="help-block">Field can\'t be blank.</p>')),inputArray.push(input.attr("name")+"="+input.val()))});var dataString=inputArray.join("&");valid&&$.ajax({type:"POST",url:$(this).attr("action"),data:dataString,success:function(data){var formAlert=$(data).find("form .alert");formAlert.length>0?form.prepend('<div class="alert alert-danger">'+formAlert.html()+"</div>"):window.location.reload()},error:function(data){console.log("Form post error:"),console.log(data)}}),e.preventDefault()});var recoverForm=getID("customer-recover-password-form"),loginForm=getID("customer-login-form");$(".hide-recover-password-form").on("click",function(e){hideRecoverPasswordForm(),e.preventDefault()}),$(".show-recover-password-form").on("click",function(e){showRecoverPasswordForm(),e.preventDefault()}),null===recoverForm&&(getID("forgotten-password-link").style.display="none"),null===loginForm&&(getID("recover-password-link").style.display="none"),hideRecoverPasswordForm(),"#recover"===window.location.hash&&showRecoverPasswordForm();