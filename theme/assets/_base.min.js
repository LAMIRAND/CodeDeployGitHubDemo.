function getID(id){return jQuery(document.getElementById(id))}function showRecoverPasswordForm(){recoverForm.parent().show(),loginForm.parent().hide()}function hideRecoverPasswordForm(){recoverForm.parent().hide(),loginForm.parent().show()}!function($){var BootstrapifyDropdown=function($ele){this.$ele=$ele,this.menu=$ele.find(".dropdown-menu"),this.submenus=$ele.find(".submenu"),this.divider='<li class="divider"></li>',this.maxCols=3,this.init();var self=this;$(window).on("resize",function(){self.resizeDropdown()})};BootstrapifyDropdown.prototype.init=function(){this.resizeDropdown(),this.addDividers()},BootstrapifyDropdown.prototype.resizeDropdown=function(){if(this.hasSubMenus(1))if(this.screenSizeIs("xs"))this.menu.width("auto");else{this.$ele.addClass("open");var newDropdownWidth=this.getDropdownWidth();this.menu.width(newDropdownWidth),this.$ele.removeClass("open")}},BootstrapifyDropdown.prototype.hasSubMenus=function(threshold){return void 0===threshold&&(threshold=0),this.submenus.length>threshold},BootstrapifyDropdown.prototype.getDropdownWidth=function(){var maxDropdownWidth=this.getMaxDropdownWidth(),maxCols=this.maxCols,totalWidth=1;return $.each(this.submenus,function(i){var colCount=i+1,width=$(this).width();totalWidth+width>maxDropdownWidth||colCount>maxCols||(totalWidth+=width)}),totalWidth},BootstrapifyDropdown.prototype.getMaxDropdownWidth=function(){var documentWidth=$(document).width(),menuOffsetLeft=this.menu.offset().left;return documentWidth-menuOffsetLeft},BootstrapifyDropdown.prototype.addDividers=function(){if(this.hasSubMenus()){var self=this;$.each(this.submenus,function(){var $this=$(this);self.hasSibling($this.next())&&$this.after(self.divider),self.hasSibling($this.prev())&&$this.before(self.divider)})}},BootstrapifyDropdown.prototype.hasSibling=function($sibling){return $sibling.length>0&&!$sibling.hasClass("submenu")},BootstrapifyDropdown.prototype.screenSizeIs=function(size){var screenSize=this.getScreenSize();return-1!=screenSize.indexOf(size)},BootstrapifyDropdown.prototype.getScreenSize=function(){return window.getComputedStyle(document.body,":after").getPropertyValue("content")},$.fn.bootstrapifyDropdown=function(){return this.each(function(){$ele=$(this),$ele.data("_bootstrapifyDropdown",new BootstrapifyDropdown($ele))})}}(jQuery);var preloadProductImages=function(){var $thumbs=$("[data-main-image]");$thumbs.length>0&&$thumbs.each(function(){var image=new Image;image.src=$(this).attr("data-main-image")})};$(function(){$("body").hasClass("currencies")&&($("#currency-picker-toggle a").click(function(){return $("#currency-picker-toggle").hide(),$("#currencies-picker").fadeIn(),!1}),$("#currencies-picker select").change(function(){return $("#currencies-picker").hide(),$("#currency-picker-toggle").fadeIn(),!0}).blur(function(){return $("#currencies-picker").hide(),$("#currency-picker-toggle").fadeIn(),!0})),$(".navbar .dropdown").bootstrapifyDropdown(),$(".localize").tooltip(),$(".tip").popover({trigger:"click",placement:"left",html:!0})}),$(window).load(function(){preloadProductImages();var $container=$(".row");$container.isotope({itemSelector:".masonry",layoutMode:"masonry"}),$(".carousel").on("slid.bs.carousel",function(){var imgHeight=$(this).find(".item.active img").height();$(".carousel-control").css({maxHeight:imgHeight})})}),$("[data-main-image]").click(function(event){var targetImage=$(this).attr("data-main-image"),$mainImage=getID("main");$mainImage.attr("src")!==targetImage&&$mainImage.fadeOut(400,function(){$("div.loader").fadeIn(100),$(this).attr("src",targetImage).load(function(){$("div.loader").fadeOut(100),$(this).fadeIn()})}),event.preventDefault()});var modalForm=getID("signinModal");modalForm.on("submit","form",function(e){var form=$(this),inputArray=[],valid=!0;form.find("input").each(function(){var input=$(this);input.attr("name")&&(""===input.val()&&(valid=!1,input.closest(".form-group").addClass("has-error").append('<p class="help-block">Field can\'t be blank.</p>')),inputArray.push(input.attr("name")+"="+input.val()))});var dataString=inputArray.join("&");valid&&$.ajax({type:"POST",url:$(this).attr("action"),data:dataString,success:function(data){var formAlert=$(data).find("form .alert");formAlert.length>0?form.prepend('<div class="alert alert-danger">'+formAlert.html()+"</div>"):window.location.reload()},error:function(data){console.log("Form post error:"),console.log(data)}}),e.preventDefault()});var recoverForm=getID("customer-recover-password-form"),loginForm=getID("customer-login-form");$(".hide-recover-password-form").on("click",function(e){hideRecoverPasswordForm(),e.preventDefault()}),$(".show-recover-password-form").on("click",function(e){showRecoverPasswordForm(),e.preventDefault()}),null===recoverForm&&(getID("forgotten-password-link").style.display="none"),null===loginForm&&(getID("recover-password-link").style.display="none"),hideRecoverPasswordForm(),"#recover"===window.location.hash&&showRecoverPasswordForm();