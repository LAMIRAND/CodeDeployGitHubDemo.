<!-- Building array for Filter Tag Groups -->  
{% assign c = 0 %} 
{% for t in collection.all_tags %}
{% capture cat %}{{ cat }}{% capture temp_cat %}{% if t contains ':' %}{% assign cat_grp = t | split: ':' %}{{ cat_grp.first }}{% endif %}{% endcapture %}{% unless cat contains temp_cat %}{% if t contains ':' %}{% assign new_cat_grp = t | split: ':' %}{{ new_cat_grp.first }}{% endif %}{% unless forloop.last %}+{% endunless %}{% assign c = c | plus: 1 %}{% endunless %}{% endcapture %}
{% endfor %}
  
{% assign cat_array = cat | split: '+' %}